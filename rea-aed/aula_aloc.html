 <!-- FlatFy Theme - Andrea Galanti /-->
<!doctype html>
<!--[if lt IE 7]> <html class="no-js ie6 oldie" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!--[if IE 9]>    <html class="no-js ie9" lang="en"> <![endif]-->
<!--[if gt IE 9]><!--> <html> <!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0">
    <meta name="description" content="Flatfy Free Flat and Responsive HTML5 Template ">
    <meta name="author" content="">

    <title>Aula - Alocação Dinâmica</title>

    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
 
    <!-- Custom Google Web Font -->
    <link href="font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=Lato:100,300,400,700,900,100italic,300italic,400italic,700italic,900italic' rel='stylesheet' type='text/css'>
	<link href='http://fonts.googleapis.com/css?family=Arvo:400,700' rel='stylesheet' type='text/css'>
	
    <!-- Custom CSS-->
    <link href="css/general.css" rel="stylesheet">
	
	 <!-- Owl-Carousel -->
    <link href="css/custom.css" rel="stylesheet">
	<link href="css/owl.carousel.css" rel="stylesheet">
    <link href="css/owl.theme.css" rel="stylesheet">
	<link href="css/style.css" rel="stylesheet">
	<link href="css/animate.css" rel="stylesheet">
	
	<!-- Magnific Popup core CSS file -->
	<link rel="stylesheet" href="css/magnific-popup.css"> 
	
	<script src="js/modernizr-2.8.3.min.js"></script>  <!-- Modernizr /-->
	<!--[if IE 9]>
		<script src="js/PIE_IE9.js"></script>
	<![endif]-->
	<!--[if lt IE 9]>
		<script src="js/PIE_IE678.js"></script>
	<![endif]-->

	<!--[if lt IE 9]>
		<script src="js/html5shiv.js"></script>
	<![endif]-->
	
	
	

</head>

<body id="home">

	<!-- Preloader -->
	<div id="preloader">
		<div id="status"></div>
	</div>
	
	<!-- FullScreen -->
    <!--<div class="intro-header">
		<div class="col-xs-12 text-center abcen1">
			<h1 class="h1_home wow fadeIn" data-wow-delay="0.4s">Flatfy</h1>
			<h3 class="h3_home wow fadeIn" data-wow-delay="0.6s">Clean & minimal Theme</h3>
			<ul class="list-inline intro-social-buttons">
				<li><a href="https://twitter.com/galantiandrea" class="btn  btn-lg mybutton_cyano wow fadeIn" data-wow-delay="0.8s"><span class="network-name">Twitter</span></a>
				</li>
				<li id="download" ><a href="#downloadlink" class="btn  btn-lg mybutton_standard wow swing wow fadeIn" data-wow-delay="1.2s"><span class="network-name">Free Download</span></a>
				</li>
			</ul>
		</div>    
        <!-- /.container -->
		<div class="col-xs-12 text-center abcen wow fadeIn">
			<div class="button_down "> 
				<a class="imgcircle wow bounceInUp" data-wow-duration="1.5s"  href="#whatis"> <img class="img_scroll" src="img/icon/circle.png" alt=""> </a>
			</div>
		</div>
    </div>
	
	<!-- NavBar-->
	<nav class="navbar-default" role="navigation">
		<div class="container">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
					<span class="sr-only">Toggle navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<a class="navbar-brand" href="#home">REA-AED</a>
			</div>

			<div class="collapse navbar-collapse navbar-right navbar-ex1-collapse">
				<ul class="nav navbar-nav">
					
					<li class="menuItem"><a href="index.html">Home</a></li>
					<ul class="nav navbar-nav navbar-right">
						<li class="dropdown">
						  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Aulas<span class="caret"></span></a>
						  <ul class="dropdown-menu">
							<li><a href="aula_cb.html">Conceitos Básicos</a></li>
							<li><a href="aula_seq.html">Estrutura Sequencial</a></li>
							<li><a href="aula_cond.html">Estrutura Condicional</a></li>
							<li><a href="aula_rep.html">Estrutura de Repetição</a></li>
							<li><a href="aula_vet.html">Vetores</a></li>
							<li><a href="aula_mat.html">Matrizes</a></li>
							<li><a href="aula_func.html">Procedimentos e Funções</a></li>
							<li><a href="aula_reg.html">Registros</a></li>
							<li><a href="aula_rec.html">Recursividade</a></li>
							<li><a href="aula_pon.html">Ponteiros</a></li>
							<li><a href="aula_aloc.html" style= "color:#04B486">Alocação Dinâmica</a></li>
							<li><a href="aula_arq.html">Arquivos</a></li>
							<li><a href="aula_list.html">Listas</a></li>
							<li><a href="aula_pilha_fila.html">Pilha e Fila</a></li>
							<li><a href="aula_arv.html">Árvore Binária</a></li>
							<li role="separator" class="divider"></li>
						  </ul>
						</li>
						<li class="menuItem"><a href="biblio.html">Bibliografia</a></li>
					</ul>
				</ul>
			</div>
		   
		</div>
	</nav> 
	
	<!-- What is -->
	<div id="whatis" class="content-section-a" style="border-top: 0">
		<div class="container">
			<div class="col-md-8 col-md-offset-2 text-center wrap_title">
				<h2>Alocação Dinâmica de Memória</h2>
				<p class="lead" style="margin-top:0">O objetivo dessa unidade é apresentar o conteúdo relacionado à alocação dinâmica. Será feita
				uma abordagem focando na linguagem C.</p>
			</div>
			<div class="col-md-10 col-md-offset-1  wrap_title">
				<div class="row">
					<h3>Alocação Estática</h3>
					<p align="justify">Na alocação estática de memória, os tipos de dados têm tamanho predefinido. Neste caso, o compilador vai alocar de forma automática o espaço de memória necessário. Sendo assim, dizemos que a alocação estática é feita em tempo de compilação.</p>
					<p align="justify">Problemas: </p>
					<ul style="list-style-type:circle">
						<li><b>Desperdiçar recursos:</b> nem sempre é possível determinar previamente qual é o espaço necessário para armazenar as informações. Quando não se conhece o espaço total necessário, a tendência é o programador exagerar pois é melhor superdimensionar do que faltar espaço. Por exemplo alocar um vetor de 100 caracteres para armazenar o nome de uma pessoa, porém no momento só foram utilizados 30.</li>
						<li><b>Falta de recursos:</b> caso você aloque um vetor de 10 caracteres e escreva 20 para armazenar o nome de uma pessoa, verá que isso é possível. Porém, isso é extremamente falho e perigoso, pois os caracteres sobressalentes irão ocupar outros endereços de memória que você não alocou, e nesses espaços de memória poderiam existir informações importantes de seu computador.</li>
					</ul>
				</div>
				<div class="row">
					<h3>Alocação Dinâmica</h3>
						<p align="justify">Na alocação dinâmica podemos alocar espaços durante a execução de um programa, ou seja, a alocação dinâmica é feita em tempo de execução. Isto é bem interessante do ponto de vista do programador, pois permite que o espaço em memória seja alocado apenas quando necessário. Além disso, a alocação dinâmica permite aumentar ou até diminuir a quantidade de memória alocada.
						</p>
						<p>Então, por exemplo, se uma pessoa vai digitar 10 caracteres, armazene isso numa string de tamanho 11 (tem que ter o caractere limitador \0).</p>
						<p>Se uma funcionária de uma farmácia vai cadastrar 20 medicamentos, seu aplicativo C deve alocar somente o espaço para as estruturas desses 20 medicamentes.</p>
				</div>
				<div class="row">
					<h4>malloc()</h4>
					<p align="justify">malloc(), de Memory Allocation, é uma função da biblioteca stdlib.h que recebe como argumento números inteiros positivos que irão representar o número de bytes que iremos alocar.</p>
					<p align="justify">Essa função retorna um ponteiro contendo o endereço do bloco alocado.</p>
					<p>Sua sintaxe é:</p>
					<div class="row"><center><img class="img-responsive " src="img/aloc/malloc1.PNG" alt="" align="middle"><center></div>
					<p>Como já visto os ponteiros precisam saber para que tipo de variável vão apontar, pois (dentre outras coisas), podemos precisar utilizar a aritmética de ponteiros.</p>
					<p>Porém, a função malloc() serve para declarar qualquer tipo de dado, seja int, float, double ou uma struct criada por você. Ela irá retornar o endereço do bloco de memória que foi alocado. Então, ao passo que fazemos essa alocação, devemos fazer um cast (conversão), ou seja, converter o ponteiro retornado por malloc para um ponteiro de um determinado tipo predefinido, para que com isso um outro ponteiro (de algum tipo já definido) declarado possa receber esse endereço (lembrando que um ponteiro contém um endereço de memória).</p>
					<p>A sintaxe fica da seguinte maneira:</p>
					<div class="row"><center><img class="img-responsive " src="img/aloc/malloc2.PNG" alt="" align="middle"><center></div>
					<p>Como exemplo, vamos alocar 30 bytes para armazenar um nome que será digitado pelo usuário:</p>
					<div class="row"><center><img class="img-responsive " src="img/aloc/malloc3.PNG" alt="" align="middle"><center></div>
				</div>
				<div class="row">
					<h4>sizeof()</h4>
					<p align="justify">Para se manter uma boa prática de programação é importante que evitemos o uso de números para escolher o número de bytes alocados, isso se deve ao fato de que um tipo variável pode ter diferentes tamanhos, dependendo da arquitetura. Por exemplo um inteiro que pode ocupar em algumas máquinas 2 bytes e outras 4 bytes.</p>
					<p align="justify">Então, para eliminarmos essa dúvida utilizamos a função sizeof().</p>
					<p>sizeof() é usado para identificar o tamanho de variáveis ou de tipos . Ele retorna o tamanho do tipo ou variável em bytes.</p>
					<p>Sintaxe:</p>
					<div class="row"><center><img class="img-responsive " src="img/aloc/sizeof1.PNG" alt="" align="middle"><center></div>
					<p>Por fim, unimos então malloc() e sizeof()da seguinte maneira:</p>
					<div class="row"><center><img class="img-responsive " src="img/aloc/sizeof2.PNG" alt="" align="middle"><center></div>
					<p>O modelo acima alocará espaço na memória para uma variável do tipo predefinido. Porém, caso for necessário alocar espaço para mais de uma variável de determinado tipo (matrizes, vetores), indicamos quantas variáveis necessárias fazendo uma multiplicação do número de variáveis vezes sizeof(tipo_predefinido). </p>
					<div class="row"><center><img class="img-responsive " src="img/aloc/sizeof3.PNG" alt="" align="middle"><center></div>
					<p>Agora vamos refazer o exemplo do nome com a utilização de sizeof(), porém agora queremos alocar um espaço de 30 caracteres para armazenar o nome:</p>
					<div class="row"><center><img class="img-responsive " src="img/aloc/sizeof4.PNG" alt="" align="middle"><center></div>
				</div>
				<div class="row">
					<h4>calloc()</h4>
					<p align="justify">A função calloc() também serve para alocar memória, mas possui um protótipo um pouco diferente:</p>
					<div class="row"><center><img class="img-responsive " src="img/aloc/calloc1.PNG" alt="" align="middle"><center></div>
					<p align="justify">Ou da maneira mais correta:</p>
					<div class="row"><center><img class="img-responsive " src="img/aloc/calloc2.PNG" alt="" align="middle"><center></div>
					<p>A função calloc reserva um bloco com o tamanho (numero_de_elementos) * (numero_de_bytes). </p>
					<p>Quando usamos a calloc(), além de reservar esse espaço de memória ele muda os valores contidos nesses bytes, colocando todos para 0, é como se inicializássemos uma variável com o valor 0  ou todas posições de um vetor com 0.</p>
					<p>Para exemplificar, vamos fazer o cálculo do quadrado dos n primeiros números(a partir de 1) utilizando calloc():</p>
					<div class="row"><center><img class="img-responsive " src="img/aloc/calloc3.PNG" alt="" align="middle"><center></div>
				</div>
				<div class="row">
					<h4>free()</h4>
					<p align="justify">Se você alocar muita memória, poderá chegar uma hora que não vai ter mais nenhum byte disponível para uso e seu programa vai simplesmente parar.</p>
					<p align="justify">Geralmente, isso ocorre por uma falha de programação, uma maneira simples de acontecer isso é ficar alocando memória dentro de um looping e não liberá-la antes do término desse looping.</p>
					<p>Em funções em C, quando criamos uma variável dentro do escopo da função, é como se ela não existisse fora dela. Então, podemos criar um ponteiro, alocar memória e fazer o ponteiro armazenar o endereço da memória alocada. Se não liberarmos a memória antes da função acabar, ela vai ficar eternamente alocada e inacessível, pois 'perdemos' o ponteiro quando a função terminou.</p>
					<p>A solução para este tipo de problema é simples, basta usar a função free(), que vai liberar o espaço de memória que foi previamente alocado. Assim como outras funções de alocação dinâmica de memória, esta função também está na biblioteca stdlib.h</p>
					<p>Ela recebe um ponteiro, o que foi usado para receber o endereço do bloco de memória alocada, e não retorna nada.</p>
					<p>Ou seja, sua sintaxe é bem simples:</p>
					<div class="row"><center><img class="img-responsive " src="img/aloc/free1.PNG" alt="" align="middle"><center></div>
					<p>Para exemplificar, vamos fazer um programa que resolve um possível problema de alocação dentro de looping.  Ele terá uma função que aloca 1000 bytes para armazenar inteiros e que, após executá-la, seja chamada uma função libera que, com a utilização de free(), liberará o espaço alocado. Esse processo deverá acontecer n vezes:</p>
					<div class="row"><center><img class="img-responsive " src="img/aloc/free2.PNG" alt="" align="middle"><center></div>
				</div>
				<div class="row">
					<h4>realloc()</h4>
					<p align="justify">Imagine um programa que faça a média de n números. A cada iteração, ele adiciona mais dois números para essa operação, ou seja, na segunda iteração será a média n + 2 números e assim sucessivamente.</p>
					<p align="justify">Para a primeira iteração n é igual a 10, você aloca o espaço para os 10 números com o uso do malloc (). Na próxima iteração, ele pede a média de 12 números, então você libera o anterior e aloca outro bloco novamente com malloc().</p>
					<p>Bem, não seria mais fácil para o computador simplesmente alocar mais 2 espaços? Quem sabe podem existir mais 2 blocos de memória ali, logo ao lado daqueles 10.</p>
					<p>Portanto, nem sempre a malloc() é a solução mais eficiente e produtiva, tais problemas podem ser contornados, através do uso da função realloc().</p>
					<p>A função realloc() como o próprio nome diz, faz com que um espaço de memória seja realocado. Para que isso aconteça é necessário realocar algo que tenha sido alocado. Então, podemos concluir que para usa-lá é necessário ter um ponteiro que foi usado para alocar um espaço de memória.</p>
					<p>realloc(), assim como a malloc(), retorna um endereço com um novo bloco de memória.</p>
					<p>Seja 'ptr' esse ponteiro, a sintaxe para o uso da função realloc() é:</p>
					<div class="row"><center><img class="img-responsive " src="img/aloc/realloc1.PNG" alt="" align="middle"><center></div>
					<p>O 'numero_bytes' é o número de bytes que queremos realocar. É exatamente da mesma maneira que fizemos com malloc(), onde geralmente fazemos 'n * sizeof(tipo_predefinido)'.</p>
					<p>Outra coisa que devemos lembrar é que um ponteiro deve receber o endereço da realloc(), e quem recebe é o mesmo ponteiro utilizado dentro realloc().</p>
					<div class="row"><center><img class="img-responsive " src="img/aloc/realloc2.PNG" alt="" align="middle"><center></div>
					<p>Para exemplificar, vamos fazer uma realocação de um espaço reservado que já contém uma String com o objetivo de adicionar mais espaço e, consequentemente, mais caracteres:</p>
					<div class="row"><center><img class="img-responsive " src="img/aloc/realloc3.PNG" alt="" align="middle"><center></div>
					<p>Tela de execução:</p>
					<div class="row"><center><img class="img-responsive " src="img/aloc/realloc4.PNG" alt="" align="middle"><center></div>
					 <p>Observação: na realocação o espaço alocado também pode ser diminuído.</p>
				</div>
				<center>
				<h3>Video Explicativo - Alocação Dinâmica</h3>
					<p>                                      </p>
					<video width=80% height="315" class="img-responsive" controls>
					  <source src="video/alocacao.mp4" type="video/mp4">
					  <source src="movie.ogg" type="video/ogg">
					  Your browser does not support the video tag.
					</video>
				</center>
				
				
			
			
					
			<!-- /.col-lg-4 -->
			
			</div>
				
		</div>
	</div>
	<div id="ex" class="content-section-b" style="border-top: 0">
		<div class="container">

			<div class="col-md-6 col-md-offset-3 text-center wrap_title">
				<h2>Exercícios</h2>
			</div>
			<center>
			<div class="row">
	
				<div class="col-sm-4 col-sm-offset-4 wow fadeInDown text-center">
					<a href="exercicios/lista11.pdf">
					  <img class="rotate" src="img/icon/pdf.png" alt="Generic placeholder image">
					  <h3>Download</h3>
					  <center><p text-align: center>Dowload lista de exercícios para treinamento de Alocação Dinâmica</p></center>
					</a>
				  <!-- <p><a class="btn btn-embossed btn-primary view" role="button">View Details</a></p> -->
				</div><!-- /.col-lg-4 -->
				
			</div><!-- /.row -->
			
			
		</div>
	</div>
	
	
	
	<footer>
      <div class="container">
        <div class="row">
          <div class="col-md-7">
            <h3 class="footer-title">REA-AED</h3>
            <p>Desenvolvido por Gabriel Bueno da Silva<br>
			<p>Contato: gabrielbuenodasilva@yahoo.com.br</p>
			
			<!-- LICENSE -->
			<p>Utilização do tema:</p>
			<a rel="cc:attributionURL" href="http://www.andreagalanti.it/flatfy"
		   property="dc:title">Flatfy Theme </a> by
		   <a rel="dc:creator" href="http://www.andreagalanti.it"
		   property="cc:attributionName">Andrea Galanti</a>
		   is licensed to the public under 
		   <BR>the <a rel="license"
		   href="http://creativecommons.org/licenses/by-nc/3.0/it/deed.it">Creative
		   Commons Attribution 3.0 License - NOT COMMERCIAL</a>.
		   
	   
          </div> <!-- /col-xs-7 -->

          <div class="col-md-5">
            <div class="footer-banner">
            </div>
          </div>
        </div>
      </div>
    </footer>

    <!-- JavaScript -->
    <script src="js/jquery-1.10.2.js"></script>
    <script src="js/bootstrap.js"></script>
	<script src="js/owl.carousel.js"></script>
	<script src="js/script.js"></script>
	<!-- StikyMenu -->
	<script src="js/stickUp.min.js"></script>
	<script type="text/javascript">
	  jQuery(function($) {
		$(document).ready( function() {
		  $('.navbar-default').stickUp();
		  
		});
	  });
	
	</script>
	<!-- Smoothscroll -->
	<script type="text/javascript" src="js/jquery.corner.js"></script> 
	<script src="js/wow.min.js"></script>
	<script>
	 new WOW().init();
	</script>
	<script src="js/classie.js"></script>
	<script src="js/uiMorphingButton_inflow.js"></script>
	<!-- Magnific Popup core JS file -->
	<script src="js/jquery.magnific-popup.js"></script> 
</body>

</html>
